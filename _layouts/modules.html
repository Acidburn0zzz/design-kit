---
layout: default
---

<script>
// Retrieve CSS and HTML for the module from Github
$.get( "{{ page.css-link }}", function( data ) {
  $( "#css_contents" ).html( data );
});
var htmlcontents;
$.get( "{{ page.html-link }}", function( data ) {
  htmlcontents = data;
  $( "#html_contents" ).html( htmlEncode(htmlcontents) );
  $( "#frame_preview" ).attr( 'srcdoc', htmlcontents );
});

// Resize iframe to content
function resizeIframe (id) {
    $(id).height( $(id).contents().find("body").height() );
}

// Method to render HTML in a readable way
function htmlEncode(value) {
  return $('<div/>').text(value).html();
}

// Toggle element visibility
function toggleVisibility(h_identifier, identifier) {
  var element = $(identifier);
  var header = $(h_identifier);
  if (header.hasClass('collapsed')){
    console.log('collapsed');
    header.removeClass('collapsed');
  }
  else {
    console.log('not collapsed');
    header.addClass('collapsed');
  }
  element.toggle();
}
</script>

<div id="pinned" class="fl w-20">
  <ul class="mv1 f6">
    {% assign modules = site.modules | sort:"weight" %}
    {% for post in modules %}
      <li class="pv1">
        <a href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
      </li>
    {% endfor %}
  </ul>
</div>

<div class="fl w-100 w-80-ns animate-fade">
  <div>
    <h1 class="page-heading">{{ page.title }}</h1>
    <p class="f5 ma0">{{ page.description }}</p>
    <div class="cf mt3 o-50">
      {% if page.github %}
      <div class="fl mr2">
        <a class="dim link" href="{{ page.github }}">{% include assets/icon-github.html %}</a>
      </div>
      {% endif %}
      {% if page.npm %}
      <div class="fl">
        <a class="dim link" href="{{ page.npm }}">{% include assets/icon-npm.html %}</a>
      </div>
      {% endif %}
    </div>
    <div class="markdown-body">
      <!-- {{ content }} -->
      <div class="language-bash highlighter-rouge">
        <pre class="highlight">
          <code>{{ page.bash }}</code>
        </pre>
      </div>
      <h2 id="preview" class="collapsable" onclick="toggleVisibility('#preview', '#frame_preview')">Preview
      </h2>
      <iframe id='frame_preview' frameborder='0' style="width: 100%" onload="resizeIframe('#frame_preview')">
      </iframe>
      <h2 id="markup" class="collapsable" onclick="toggleVisibility('#markup', '#html_contents')">Markup
      </h2>
      <pre id="html_contents"></pre>
      <!-- {% highlight html %}
        {{ page.html }}
      {% endhighlight %} -->
      <h2 id="css" class="collapsable" onclick="toggleVisibility('#css', '#css_contents')">CSS
      </h2>
      <pre id="css_contents"></pre>
      <!-- {% highlight css %} -->
        <!-- {{ page.css }} -->

      <!-- {% endhighlight %} -->
    </div><!-- markdown-body -->
  </div>
</div>
